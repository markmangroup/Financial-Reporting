<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Transformation Flow Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .diagram-container {
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Data Transformation Flow: From Raw CSV to Financial Statements</h1>
        <div class="diagram-container">
            <div class="mermaid">
flowchart TD
    A[üìÑ Raw Chase CSV Files] --> B[üîç CSV Parser Engine]
    B --> C[üè∑Ô∏è Transaction Categorization]
    C --> D[üìä Data Validation & Cleaning]
    D --> E[üí∞ Financial Calculations Engine]
    E --> F[üìà Financial Statements Generator]
    F --> G[üé® Frontend Display]
    
    %% Raw Data Sources
    A1[Chase Checking Account<br/>5939_Activity_20250929.CSV] --> A
    A2[Chase Credit Card<br/>8008_Activity20230929.CSV] --> A
    
    %% Parser Details
    B --> B1[Parse CSV Structure<br/>‚Ä¢ Extract columns<br/>‚Ä¢ Handle quotes/commas<br/>‚Ä¢ Filter empty rows]
    
    %% Categorization Process
    C --> C1[Client Payments<br/>‚Ä¢ Laurel Management<br/>‚Ä¢ Metropolitan Partners]
    C --> C2[Consultant Expenses<br/>‚Ä¢ International wires<br/>‚Ä¢ Bill.com payments<br/>‚Ä¢ Swan services]
    C --> C3[Operating Expenses<br/>‚Ä¢ Credit card autopay<br/>‚Ä¢ Auto loan payments<br/>‚Ä¢ Bank fees]
    C --> C4[Owner Equity<br/>‚Ä¢ Account transfers<br/>‚Ä¢ Wire reversals<br/>‚Ä¢ Other credits]
    
    %% Validation Layer
    D --> D1[‚úÖ Transaction Count Check<br/>‚Ä¢ Verify all rows processed<br/>‚Ä¢ Check for missing data]
    D --> D2[‚úÖ Amount Validation<br/>‚Ä¢ Sum debits and credits<br/>‚Ä¢ Verify balance calculations]
    D --> D3[‚úÖ Category Coverage<br/>‚Ä¢ Ensure 100% mapping<br/>‚Ä¢ Flag uncategorized items]
    
    %% Financial Engine
    E --> E1[üìä Golden Record Calculator<br/>‚Ä¢ Single source of truth<br/>‚Ä¢ Consistent calculations]
    E1 --> E2[Revenue Calculations<br/>‚Ä¢ Business revenue only<br/>‚Ä¢ Client payment totals]
    E1 --> E3[Expense Calculations<br/>‚Ä¢ Consultant costs<br/>‚Ä¢ Operating expenses<br/>‚Ä¢ Total business costs]
    E1 --> E4[Equity Calculations<br/>‚Ä¢ Owner contributions<br/>‚Ä¢ Retained earnings<br/>‚Ä¢ Other credits]
    
    %% Statement Generation
    F --> F1[üìã Income Statement<br/>‚Ä¢ Revenue vs Expenses<br/>‚Ä¢ Net Income calculation]
    F --> F2[‚öñÔ∏è Balance Sheet<br/>‚Ä¢ Assets = Liabilities + Equity<br/>‚Ä¢ Point-in-time snapshot]
    F --> F3[üí∏ Cash Flow Statement<br/>‚Ä¢ Operating activities<br/>‚Ä¢ Financing activities<br/>‚Ä¢ Cash reconciliation]
    
    %% Frontend Display
    G --> G1[üéØ Interactive Dashboard<br/>‚Ä¢ Hover tooltips<br/>‚Ä¢ Transaction details<br/>‚Ä¢ Validation indicators]
    G --> G2[üìä Visual Charts<br/>‚Ä¢ Financial metrics<br/>‚Ä¢ Trend analysis<br/>‚Ä¢ Key ratios]
    G --> G3[‚úÖ Audit Trail<br/>‚Ä¢ Calculation verification<br/>‚Ä¢ Error highlighting<br/>‚Ä¢ Reconciliation checks]
    
    %% Styling
    classDef rawData fill:#ffebee,stroke:#f44336,stroke-width:2px
    classDef processing fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    classDef validation fill:#fff3e0,stroke:#ff9800,stroke-width:2px
    classDef calculation fill:#e8f5e8,stroke:#4caf50,stroke-width:2px
    classDef output fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    classDef frontend fill:#e0f2f1,stroke:#009688,stroke-width:2px
    
    class A,A1,A2 rawData
    class B,B1,C,C1,C2,C3,C4 processing
    class D,D1,D2,D3 validation
    class E,E1,E2,E3,E4 calculation
    class F,F1,F2,F3 output
    class G,G1,G2,G3 frontend
            </div>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 5px;">
            <h3>How to Use This Diagram:</h3>
            <ul>
                <li><strong>Follow the arrows</strong> to see the data flow from raw CSV to final statements</li>
                <li><strong>Color coding:</strong> Each stage has a different color to show the transformation process</li>
                <li><strong>Hover over boxes</strong> to see more details about each step</li>
                <li><strong>Stage 3 (Categorization)</strong> is where the "magic" happens - raw data becomes meaningful categories</li>
            </ul>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
    </script>
</body>
</html>
